1. 新增 products 产品时，自动添加没有使用过的 jan_code， 自动添加没有使用过的gtin_code

JAN_CODE 处理逻辑：

1. 1138X2, 拆分成 1138 和 数量 2 。
2. 3400X3401, 需要分配一个新的 JAN_CODE 予之对应 。
3. 77778888, 不需要单独处理,直接当成一个JAN_CODE处理 。

```sql
SELECT ODC.JAN_CD AS jan_code, ODC.order_day AS order_date,SUM(ODC.AMOUNT) AS sale_count, SUM(ODC.AMOUNT_PRICE) AS sale_amount FROM ORDER_DETAILS_CALC ODC JOIN ORDERS O ON ODC.ORDER_NUMBER = O.ORDER_NUMBER
WHERE O.cancel_flag <> 2
GROUP BY ODC.JAN_CD,ODC.order_day
```

```sql
select cstocks.item_cd,csku.jan_code, cstocks.stock, cstocks.attribute1_name, cstocks.attribute2_name,odc.order_month,sum(odc.amount) as sale_count,sum(odc.amount_price) as sale_amount
from crossmall_item_stocks cstocks join crossmall_item_sku csku
on cstocks.item_cd = csku.item_code
and cstocks.attribute1_name = csku.attribute1_name
and cstocks.attribute2_name = csku.attribute2_name
and cstocks.stock>0
join order_details_calc odc on odc.jan_cd = csku.jan_code
join products p on odc.jan_cd = p.jan_code
where p.status = 1
-- where csku.jan_code = '2118'
group by cstocks.item_cd,csku.jan_code, cstocks.stock, cstocks.attribute1_name, cstocks.attribute2_name,odc.order_month
order by csku.jan_code , odc.order_month asc
```
